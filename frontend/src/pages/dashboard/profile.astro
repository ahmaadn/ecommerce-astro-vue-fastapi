---
import DashboardLayout from '@/layouts/DashboardLayout.astro'
import ProfileUser from '@/components/Profile/ProfileUser.vue'
import ChangePassword from '@/components/Profile/ChangePassword.vue'
import Address from '@/components/Profile/Address.vue'
import { users } from '@/lib/users'

const user = await users.getDetail(Astro)
---

<DashboardLayout title="Profile" accessPage="all">
    <div class="space-y-8">
        <ProfileUser user={user} client:load />
        <div class="card bg-base-100 shadow-xl" id="change-password">
            <div class="card-body">
                <h2 class="card-title">Change Password</h2>
                <ChangePassword client:load />
            </div>
        </div>
        <div class="card bg-base-100 shadow-xl" id="address">
            <div class="card-body">
                <h2 class="card-title">Alamat</h2>
                <Address client:load />
            </div>
        </div>
    </div>
</DashboardLayout>
